# Pochta (Mail.exe)
Приложение реализующее **вход в аккаунт** домена Gmail.com и **отправление сообщения(-ий) пользователю(-ям)**, 
а также **сохранять** данное сообщение как **черновик** (на компьютере пользователя).

Приложение:
<br>1. Окно входа в аккаунт. Интерфейс:

  - Поле ввода *адреса* почты (домена Gmail.com)
  - Поле ввода *пароля* от аккаунта почты (введенные символы не видно)
  - Кнопка *прислать* числовой код - с **моей** почты на введенный адрес приходит сообщение, содержащее уникальный код из 6 цифр
  - Поле *ввода кода*
  - Кнопка *проверить* код - проверяет совпадает ли введенный код с тем, что был отправлен на почту
  - Кнопка *войти* в аккаунт - разблокируется, когда код подтверждается
![image](https://user-images.githubusercontent.com/64501652/119622707-13732700-be10-11eb-87b5-fb85c4474626.png)

<br>
2. Окно создания сообщения. Интерфейс:

  - Поле "От кого" (отправитель) - не редактируется, при открытии окна заполняется введенной почтой
  - Поле "Кому" - содержит адрес электронной почты получателя сообщения
  - Кнопка "Добавить адрес в рассылку" - адрес, введенный в поле "Кому" будет записываться в листбокс с рассылкой
  - Листбокс с рассылкой (несколькими получателями) - содержит список адресов
  - Кнопка "Удалить адрес" - удаляет адрес эл.почты из листбокса
  - Листбокс с вложениями (хранит в себе список путей до вложений) - чтобы добавить вложение, перетаскиваем файл из проводника. 
  Если файл, разрешенного расширения (при добавлении файла с неправильным расширением будет выводиться ошибка), то он добавится в список. Нельзя добавлять во вложения папки.
  - Поле "Тема" - содержит тему сообщения (может быть пустым)
  - Поле "Текст" - содержимое сообщения
  - Кнопка "Отправить сообщение" - отправляет сообщение
  - Кнопка "Добавить в черновик" - создает в текущей папке (где запускается приложение) директорию "chernoviki" (если нету), 
  куда записывает файл-черновик с расширением ".chern". Если поле "Тема" заполнено, то файл создается с именем "[Тема].chern", в противном случае файл будет иметь имя "Новый черновик[номер]"
  - Выпадающий список "Черновики" - содержит список черновиков в папке '[текущая директория]/chernoviki' с расширением ".chern"
  - Кнопка "Открыть" (черновик) - открывает выбранный черновик и заполняет его содержимым все поля сообщения (кому, рассылку, тему, текст, вложения)
  - Кнопка "Удалить" (черновик) - удаляет выбранный черновик из списка и с компьютера пользователя (папки '[текущая директория]/chernoviki')
  
  ![image](https://user-images.githubusercontent.com/64501652/119622802-2a197e00-be10-11eb-967c-fa67cda56ff6.png)
  
<br>
3. Нюансы использования приложения:

  - Используется устаревший интернет-протокол SMTP (стоит заменить его на **MailKit**)
  - Сообщение отправляется: одному пользователю (если заполнено поле "Кому"), нескольким пользователям (если листбокс расслыки не пустой - в таком случае адрес из поля "Кому" не используется), с темой (если поле "Тема" заполнено), с вложениями (если листбокс "Вложения" не пустой), с содержимым сообщения (независимо от того, заполнено ли поле "Текст" или нет, его содержимое будет передаваться в MailMessage.Body - таким образом можно отправлять пустые сообщения)
  - Проблема сохранения путей к вложениям в черновик 
  - Проблема аутентификации входа в аккаунт - по идее, числовой код должен как-то подтверждать, что пароль введён верно, но это никак не мешает пользователю ввести неверный пароль (**FIX IT**)
  - По какой-то причине, при открытии черновика с рассылкой (несколькими получателями), сообщение будет отправляться как **одному** получателю, хотя их указано **несколько**
